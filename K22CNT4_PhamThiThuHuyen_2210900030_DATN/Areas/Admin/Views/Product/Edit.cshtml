@model K22CNT4_PhamThiThuHuyen_2210900030_DATN.Models.EF.Product

@{
    ViewBag.Title = "Sửa sản phẩm";
    Layout = "~/Areas/Admin/Views/Shared/_AdminLayout.cshtml";
}

<h1>Sửa sản phẩm</h1>

<!-- ===== NAV TAB ===== -->
<ul class="nav nav-pills mb-3">
    <li class="nav-item">
        <a class="nav-link active">Thông tin</a>
    </li>

    <li class="nav-item">
        <a class="nav-link"
           asp-area="Admin"
           asp-controller="ProductImage"
           asp-action="Index"
           asp-route-id="@Model.Id">
            Hình ảnh
        </a>
    </li>

    <li class="nav-item">
        <a class="nav-link disabled">SEO</a>
    </li>
</ul>

<form asp-area="Admin"
      asp-controller="Product"
      asp-action="Edit"
      method="post">

    @Html.AntiForgeryToken()
    @Html.HiddenFor(m => m.Id)

    <div class="card">
        <div class="card-body">

            <!-- ================= THÔNG TIN ================= -->
            <div class="form-group mb-3">
                <label>Tên sản phẩm</label>
                <input asp-for="Name" class="form-control" />
            </div>

            <div class="form-group mb-3">
                <label>Slug</label>
                <input asp-for="Slug" class="form-control" />
            </div>

            <div class="form-group mb-3">
                <label>Danh mục</label>
                <select asp-for="Categoryid" class="form-control">
                    @foreach (var c in ViewBag.Categories)
                    {
                        <option value="@c.Id"
                                selected="@(c.Id == Model.Categoryid)">
                            @c.Name
                        </option>
                    }
                </select>
            </div>

            <!-- 🔹 GENDER (BÉ GÁI / BÉ TRAI) -->
            <div class="form-group mb-3">
                <label>Giới tính</label>
                <select asp-for="Gender" class="form-control">
                    <option value="1" selected="@(Model.Gender == 1)">Bé gái</option>
                    <option value="2" selected="@(Model.Gender == 2)">Bé trai</option>
                </select>
            </div>

            <div class="form-group mb-3">
                <label>Mô tả ngắn</label>
                <textarea asp-for="Description" class="form-control"></textarea>
            </div>

            <div class="form-group mb-3">
                <label>Chi tiết sản phẩm</label>
                <textarea asp-for="Contents"
                          class="form-control"
                          id="txtDetail"></textarea>
            </div>

            <div class="row mb-3">
                <div class="col-md-4">
                    <label>Giá</label>
                    <input asp-for="Price" class="form-control" />
                </div>
            </div>

            <hr />

            <!-- ================= CHECKBOX ================= -->
            <div class="row">
                <div class="col-md-3">
                    <div class="form-check">
                        <input type="checkbox" name="Isactive" value="1"
                               class="form-check-input"
                               @(Model.Isactive == 1 ? "checked" : "") />
                        <label class="form-check-label">Hiển thị</label>
                    </div>
                </div>

                <div class="col-md-3">
                    <div class="form-check">
                        <input type="checkbox" name="Issale" value="1"
                               class="form-check-input"
                               @(Model.Issale == 1 ? "checked" : "") />
                        <label class="form-check-label">Khuyến mãi</label>
                    </div>
                </div>

                <div class="col-md-3">
                    <div class="form-check">
                        <input type="checkbox" name="Istopsale" value="1"
                               class="form-check-input"
                               @(Model.Istopsale == 1 ? "checked" : "") />
                        <label class="form-check-label">Bán chạy</label>
                    </div>
                </div>

                <div class="col-md-3">
                    <div class="form-check">
                        <input type="checkbox" name="Ishome" value="1"
                               class="form-check-input"
                               @(Model.Ishome == 1 ? "checked" : "") />
                        <label class="form-check-label">Trang chủ</label>
                    </div>
                </div>
            </div>

        </div>

        <div class="card-footer text-center">
            <button type="submit" class="btn btn-primary">
                💾 Lưu thay đổi
            </button>
            <a asp-action="Index" class="btn btn-secondary">
                ⬅ Quay lại
            </a>
        </div>
    </div>
</form>

@section Scripts {
    <script>
        if (window.CKEDITOR) {
            CKEDITOR.replace('txtDetail');
        }
    </script>
}
